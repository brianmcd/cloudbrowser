<html ng-app="CBAdminInterface">
    <head>
        <title>CloudBrowser - Administration Interface</title>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">
        <link href="https://gitcdn.github.io/bootstrap-toggle/2.2.0/css/bootstrap-toggle.min.css" rel="stylesheet">
        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.12/angular.min.js"></script>
        <script src="js/lib/admin_interface.js"></script>
        <script src="js/lib/model/api_list_manager.js"></script>
        <script src="js/lib/model/pojo_list_manager.js"></script>
        <script src="js/lib/model/primitive_list_manager.js"></script>
        <script src="js/lib/model/user.js"></script>
        <script src="js/lib/model/browser.js"></script>
        <script src="js/lib/model/app_instance.js"></script>
        <script src="js/lib/model/app.js"></script>
        <script src="js/lib/model/app_manager.js"></script>
        <script src="js/lib/models.js"></script>
        <script src="js/lib/services.js"></script>
        <script src="js/lib/directives.js"></script>
        <script src="js/lib/controller.js"></script>
        <meta charset="UTF-8">
    </head>
    <body>
        <!-- Container -->
        <div class="container-fluid" ng-controller="AppCtrl">
            <!-- Row -->
            <div class="row">
                <div class="page-header pagination-centered col-md-12">
                    <h3>CloudBrowser Administration Interface</h3>
                </div>
            </div>
            <!-- Row -->

            <div class="row" ng-show="error != null">
                <!-- Error -->
                <div class="alert alert-danger" class="col-md-12">{{error}}</div>
                <!-- Error -->
            </div>

            <!-- Row -->
            <div class="row">
                <!-- Left Half -->
                <div class="col-md-5">
                    <!-- Row -->
                    <div class="row">
                        <!-- Search and Logout -->
                        <div class="col-md-12"
                            ng-include="templates.searchAndLogout">
                        </div>
                        <!-- Search and Logout -->
                    </div>
                    <!-- Row -->

                    <!-- Row -->
                    <div class="row">
                        <!-- App Table -->
                        <div class="col-md-12" ng-include="templates.appTable">
                        </div>
                        <!-- App Table -->
                    </div>
                    <!-- Row -->

                    <!-- Row -->
                    <div class="row">
                        <!-- File Uploader -->
                        <div id="file-uploader" class="col-md-12"></div>
                        <!-- File Uploader -->
                    </div>
                    <!-- Row -->

                </div>
                <!-- Left Half -->
                <div class="col-md-7">
                    <div class="row">
                    <ul class="nav nav-tabs">
                        <li ng-repeat="app in apps" ng-class="app.selected? 'active' : ''">
                            <a ng-click="select(app)">{{app.name}}</a>
                        </li>
                    </ul>
                    </div>
                    <div ng-repeat="app in apps" ng-show="app.selected" class="row">
                                                
                        <!-- App URL -->
                        <div class="col-md-12">
                            <a ng-click="leftClick(app.url)" title="Visit the app">
                                {{app.url}}
                                <i class="icon-external-link"></i>
                            </a>
                        </div>
                        <!-- App URL -->
                        
                        <!-- App Description -->
                        <div class="col-md-12 well"
                            ng-include="templates.appDescription">
                        </div>
                        <!-- App Description -->

                        <!-- Selected App Table -->
                        <div class="col-md-12"
                            ng-include="templates.selectedAppTable">
                        </div>
                        <!-- Selected App Table -->

                        <!-- Checkbox Switches -->
                        <div class="col-md-12">
                            <div ng-repeat="switch in switches" ng-include="templates.switch">
                            </div>
                        </div>
                        <!-- Checkbox Switches -->

                    </div>
                </div>
                
            </div>
            <!-- Row -->

            <!-- Row -->
            <div class="row">
            <div class="col-md-12">
                <legend>Application Info</legend>
            </div>
            <div class="col-md-12">
                <div class="row">
                    <ul class="nav nav-tabs">
                        <li ng-repeat="app in apps" ng-class="app.selected? 'active' : ''">
                            <a ng-click="select(app)">{{app.name}}</a>
                        </li>
                    </ul>
                </div>
                <div class="row" ng-repeat="app in apps" ng-show="app.selected">
                <div class="col-md-12 box"
                    ng-show="app.selected"
                    ng-class="selectedApp.mounted? '' : 'disabled'">
                    
                    <!-- Row -->
                    <div class="row align-left"
                        ng-show="app.userMgr.items.length">
                        <!-- Users of the selected app -->
                        <div class="col-md-12 fitText" ng-include="templates.appUsers">
                        </div>
                        <!-- Users of the selected app -->
                    </div>
                    <!-- Row -->

                    <!-- Row -->
                    <div class="row align-left"
                        ng-show="app.browserMgr.items.length">
                        <!-- Browsers of the selected app -->
                        <div class="col-md-12 fitText" ng-include="templates.appBrowsers">
                        </div>
                        <!-- Browsers of the selected app -->
                    </div>
                    <!-- Row -->

                    <!-- Row -->
                    <div class="row align-left"
                        ng-show="app.appInstanceMgr.items.length">
                        <!-- App instances of the selected app -->
                        <div class="col-md-12 fitText" ng-include="templates.appInstances">
                        </div>
                        <!-- App instances of the selected app -->
                    </div>
                    <!-- Row -->
                </div>

                </div>
            </div>

            </div>
            <!-- Row -->
        </div> 
        <!-- Container -->
    </body>
</html>
